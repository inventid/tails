{"name":"Tails","tagline":"Models on the fly!","body":"[![inventid logo](https://s3-eu-west-1.amazonaws.com/static-inventid-nl/content/img/logo.png)](http://opensource.inventid.nl)\r\n\r\n# Tails\r\n\r\n|Branch|Build status|Coverage|\r\n|----|----|---|\r\n|Master branch|[![Build Status master branch](https://travis-ci.org/inventid/tails.svg?branch=master)](https://travis-ci.org/inventid/tails)|[![Coverage Status](http://img.shields.io/coveralls/inventid/tails/master.svg)](https://coveralls.io/r/inventid/tails?branch=master)\r\n|Develop branch|[![Build Status develop branch](https://travis-ci.org/inventid/tails.svg?branch=develop)](https://travis-ci.org/inventid/tails)|[![Coverage Status](http://img.shields.io/coveralls/inventid/tails/develop.svg)](https://coveralls.io/r/inventid/tails?branch=develop)|\r\n\r\n## What is it?\r\n\r\n**Caution**: Tails is still under heavy development and it's API may still change here and there.\r\n\r\nTails is a layer on top of Backbone makes it super easy to manage your models in the front-end. It takes away the issue of loading and linking related models and allows you to focus on the important bits of your web app. \r\n\r\nTails is designed to integrate nicely with a Rails app that exposes a REST API of it's data to the front-end. Tails aims to duplicate your back-end models in the front-end, lazy loading any properties you may need automatically when you need them.\r\n\r\n## How to use it?\r\n\r\nEasy! Have a look at some examples:\r\n\r\n```CoffeeScript\r\nclass Models.Fruit extends Tails.Model\r\n  @belongsTo -> basket: Models.Basket\r\n  \r\nclass Models.Basket extends Tails.Model\r\n  @hasMany -> fruits: Models.Fruit\r\n  \r\n# Initializing the relation using foreign key\r\nfruit = new Models.Fruits({basket_id: 5})\r\nbasket = new Models.Basket({id: 5})\r\nfruit.get('basket') is basket            # true\r\n\r\n# Tails always keeps track of the relations \r\nbasket.get('fruits').contains(fruit)     # true\r\nfruit.unset('basket')\r\nbasket.get('fruits').contains(fruit)     # false\r\n\r\n# Initializing relation by explicitly setting it\r\nfruit = new Models.Fruit(basket: basket)\r\nfruit.get('basket_id') is 5              # true\r\n```\r\nAs you might have noticed in the example above, we pass functions to the `belongsTo` and `hasMany` class methods. This is because classes that have a relation to each other create a circular dependency. Tails evaluates the function after both the models are loaded (in fact, just before `initialize` is called on your model), which ensures that it can always find the dependencies. If you are sure this is not gonna be an issue for you, you can also choose not to wrap your arguments into a function, as such: `@hasMany: fruits: Models.Fruit`\r\n\r\n\r\nTails follows the Rails mantra of *convention over configuration*. That means that it will automatically use *model_name*_id as the foreign key of a model. But don't worry if you have your application set up differently! Tails allows you to specify a custom foreign key:\r\n\r\n```CoffeeScript\r\nclass Models.Dog extends Tails.Model\r\n  @belongsTo -> owner: Models.Person, foreignKey: 'owner_id'\r\n  \r\nclass Models.Person extends Tails.Model\r\n  @hasMany -> pets: Models.Dog, foreignKey: 'owner_id'\r\n  \r\nperson = new Models.Person({id: 1})\r\ndog = new Models.Dog({owner: person})\r\n\r\ndog.get('owner') is person              # true\r\nperson.get('pets').contains(dog)        # true\r\n```\r\n\r\n### Mixins\r\n\r\nTails also provides a few mixins that may be of use. Be sure to extend Tails.Mixable, and then you're free to use them as you see fit!\r\n```CoffeeScript\r\nclass SomeClass extends Tails.Mixable\r\n```\r\n\r\nOf course, it may not always be possible to extend this way, primarily if you must inherit from some other class. No worries! Underscore.js has you covered.\r\n```CoffeeScript\r\nclass SomeClass extends SomeBaseClass\r\n  _.extend @, Tails.Mixable\r\n```\r\n\r\n#### Tails.Mixins.Interceptable\r\nThe Interceptable mixin allows you to execute code before or after a certain method runs. This is useful for things like routers, where a lot of share code.\r\n\r\n```CoffeeScript\r\nclass MyRouter extends Backbone.Router\r\n  _.extend @, Tails.Mixable\r\n  \r\n  @concern Tails.Mixins.Interceptable\r\n  \r\n  @before these: ['friends', 'account'], do: 'ensureSignedIn'\r\n  @before admin: 'ensureAdmin'\r\n  \r\n  routes: \r\n    '/friends': 'friends'\r\n    '/account': 'account'\r\n    '/admin':   'admin'\r\n  \r\n  products: ( ) ->\r\n  account: ( ) ->\r\n  admin: ( ) ->\r\n  ensureSignedIn: ( ) ->\r\n  ensureAdmin: ( ) ->\r\n```\r\nHere too Tails allows you to pass functions instead of plain objects, which allows us to use actual pointers to methods instead of strings because were sure these methods are loaded when the functions are evaluated: \r\n```CoffeeScript\r\n@before -> these: [@friends, @account], do: @ensureSignedIn\r\n@before -> admin: @ensureAdmin\r\n```\r\nHowever, in this particular case it's a bit hairy because of the way how Backbone handles its routes, and it wouldn't work. Backbone extracts these methods and stores them seperatly, keeping us from properly setting our interceptors. See [#7](https://github.com/inventid/tails/issues/7).\r\n\r\n#### Tails.Mixins.DynamicProperties\r\nThe DynamicProperties mixin makes it easy to put getters and setters on your class. This is mainly useful for CoffeeScript where the `get` and `set` JavaScript syntax is not available.\r\n\r\n```CoffeeScript\r\nclass SomeClass extends Tails.Mixable\r\n  @getter -> myProperty: ( )       -> return @_myProperty\r\n  @setter -> myProperty: ( value ) -> @_myProperty = value if value > 3\r\n```\r\n\r\n### How to suggest improvements?\r\n\r\nWe are still actively developing Tails for our internal use, but we would already love to hear your feedback. In case you have some great ideas, you may just [open an issue](https://github.com/inventid/tails/issues/new). Be sure to check beforehand whether the same issue does not already exist.\r\n\r\n### How can I contribute?\r\n\r\nWe feel contributions from the community are extremely worthwhile. If you use Tails in production and make some modification, please share it back to the community. You can simply [fork the repository](/inventid/tails/fork), commit your changes to your code and create a pull request back to this repository.\r\n\r\nIf there are any issues related to your changes, be sure to reference to those. Additionally we use the `develop` branch, so create a pull request to that branch and not to `master`.\r\n\r\n### Collaborators\r\n\r\nWe would like to thank the developers which contributed to Tails, both big and small.\r\n\r\n- [joostverdoorn](https://github.com/joostverdoorn) (Lead developer of Tails @ [inventid](http://www.inventid.nl))\r\n- [steffansluis](https://github.com/steffansluis) (Developer @ [FeedbackFruits](https://secure.feedbackfruits.com))\r\n- [rogierslag](https://github.com/rogierslag) (Developer @ [inventid](http://www.inventid.nl))","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}